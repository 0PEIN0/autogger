#!/bin/bash

AL_PYTHON_VERSION="3"
AL_REPO_NAME="autogger"
AL_GIT_REPO="git@github.com:0PEIN0/$AL_REPO_NAME.git"
AL_PROJECT_NAME="autogger"
AL_CELERY_PROJECT_NAME="autogger"
AL_PROJECT_NAME_UNDERSCORE="al"
AL_PROJECT_NAME_CAMEL_CASE="autogger"
AL_LOCAL_PORT="8090"
AL_DJANGO_APP_NAMES="core"
AL_POSTGRES_USER="postgres"
AL_CELERY_FLOWER_HOST="127.0.0.1"
AL_CELERY_FLOWER_PORT="5590"

AL_DJANGO_OPERATIONS="makemigrations migrate"
AL_INIT_REQUIREMENTS_FILE_NAME='requirements.txt'
AL_PROJECT_ROOT_FOLDER="$SYSTEM_ROOT_GIT_REPO_FOLDER/$AL_REPO_NAME/$AL_REPO_NAME"
AL_VIRTUAL_ENVIRONMENT_NAME="${AL_PROJECT_NAME_CAMEL_CASE}Env"
AL_INIT_DB_FILE_NAME="${AL_PROJECT_NAME_UNDERSCORE}-reset-db.sql"
AL_POSTGRES_USER_PASSWORD_RESET_FILE_NAME="${AL_PROJECT_NAME_UNDERSCORE}-postgres-password-reset.sql"
AL_INIT_DATA_LOAD_PYTHON_FILE_NAME="init_data_loader.py"
AL_VIRTUAL_ENVIRONMENT_FOLDER="$SYSTEM_ROOT_VIRTUAL_PYTHON_ENVIRONMENT_FOLDER/$AL_VIRTUAL_ENVIRONMENT_NAME"
AL_INIT_POSTGRES_DB_FILE_PATH="$SYSTEM_ROOT_GIT_REPO_FOLDER/$AL_REPO_NAME/scripts/$AL_INIT_DB_FILE_NAME"
AL_INIT_POSTGRES_DB_USER_PASSWORD_FILE_PATH="$SYSTEM_ROOT_GIT_REPO_FOLDER/$AL_REPO_NAME/scripts/$AL_POSTGRES_USER_PASSWORD_RESET_FILE_NAME"
AL_INIT_DATA_LOAD_PYTHON_FILE_PATH="$SYSTEM_ROOT_GIT_REPO_FOLDER/$AL_REPO_NAME/scripts/$AL_INIT_DATA_LOAD_PYTHON_FILE_NAME"

if [ -f $BASH_HELPER_GIT_FOLDER/django-project-core.sh ]; then
    . $BASH_HELPER_GIT_FOLDER/django-project-core.sh
fi;

alias ${AL_PROJECT_NAME_UNDERSCORE}_bc="djangoBranchChange $AL_PROJECT_NAME_UNDERSCORE "
alias ${AL_PROJECT_NAME_UNDERSCORE}_bc_full_reset="djangoBranchChangeWithFullReset $AL_PROJECT_NAME_UNDERSCORE "
alias ${AL_PROJECT_NAME_UNDERSCORE}_bc_full_reset_and_run="djangoBranchChangeWithFullResetAndRun $AL_PROJECT_NAME_UNDERSCORE "
alias ${AL_PROJECT_NAME_UNDERSCORE}_bcd="${AL_PROJECT_NAME_UNDERSCORE}_bc develop"
alias ${AL_PROJECT_NAME_UNDERSCORE}_bcd_full_reset="${AL_PROJECT_NAME_UNDERSCORE}_bc_full_reset develop"
alias ${AL_PROJECT_NAME_UNDERSCORE}_bcd_full_reset_and_run="${AL_PROJECT_NAME_UNDERSCORE}_bc_full_reset_and_run develop"
alias ${AL_PROJECT_NAME_UNDERSCORE}_bcd_run="${AL_PROJECT_NAME_UNDERSCORE}_bcd && ${AL_PROJECT_NAME_UNDERSCORE}_run"
alias ${AL_PROJECT_NAME_UNDERSCORE}_bcr="djangoBranchChangeRun $AL_PROJECT_NAME_UNDERSCORE "
alias ${AL_PROJECT_NAME_UNDERSCORE}_db_shell="${AL_PROJECT_NAME_UNDERSCORE}_ve && ./manage.py shell"
alias ${AL_PROJECT_NAME_UNDERSCORE}_dir="goToDir \"$AL_PROJECT_ROOT_FOLDER\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_frr="${AL_PROJECT_NAME_UNDERSCORE}_full_reset && ${AL_PROJECT_NAME_UNDERSCORE}_run"
alias ${AL_PROJECT_NAME_UNDERSCORE}_full_reset="djangoFullReset $AL_PROJECT_NAME_UNDERSCORE"
alias ${AL_PROJECT_NAME_UNDERSCORE}_gf="${AL_PROJECT_NAME_UNDERSCORE}_dir && git_f"
alias ${AL_PROJECT_NAME_UNDERSCORE}_git_setup="djangoGitSetup $AL_GIT_REPO"
alias ${AL_PROJECT_NAME_UNDERSCORE}_init_data_load="${AL_PROJECT_NAME_UNDERSCORE}_ve && ./manage.py shell < $AL_INIT_DATA_LOAD_PYTHON_FILE_PATH"
alias ${AL_PROJECT_NAME_UNDERSCORE}_last_10_commit_hash="${AL_PROJECT_NAME_UNDERSCORE}_dir && git log -10 --pretty=format:\"%h\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_loc="cloc \"$AL_PROJECT_ROOT_FOLDER\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_reinitiate="djangoReinitiate \"$AL_PROJECT_ROOT_FOLDER\" \"$AL_DJANGO_APP_NAMES\" $AL_INIT_DATA_LOAD_PYTHON_FILE_PATH \"$AL_DJANGO_OPERATIONS\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_reinitiate_clean="djangoReinitiateClean \"$AL_PROJECT_ROOT_FOLDER\" \"$AL_DJANGO_OPERATIONS\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_reset_clean="djangoResetWithoutMigrationClean $AL_PROJECT_NAME_UNDERSCORE $AL_INIT_DATA_LOAD_PYTHON_FILE_PATH"
alias ${AL_PROJECT_NAME_UNDERSCORE}_postgres_shell="psql -U $AL_POSTGRES_USER"
alias ${AL_PROJECT_NAME_UNDERSCORE}_postgres_user_password_reset="postgresPasswordReset \"$AL_INIT_POSTGRES_DB_USER_PASSWORD_FILE_PATH\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_process_id="lsof -i:${AL_LOCAL_PORT} | awk '{print $2}'"
alias ${AL_PROJECT_NAME_UNDERSCORE}_psql_reset="djangoPsqlReset $AL_POSTGRES_USER \"$AL_INIT_POSTGRES_DB_FILE_PATH\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_reset="djangoReset $AL_PROJECT_NAME_UNDERSCORE"
alias ${AL_PROJECT_NAME_UNDERSCORE}_rr="${AL_PROJECT_NAME_UNDERSCORE}_reset && ${AL_PROJECT_NAME_UNDERSCORE}_run"
alias ${AL_PROJECT_NAME_UNDERSCORE}_rt="${AL_PROJECT_NAME_UNDERSCORE}_reset && ${AL_PROJECT_NAME_UNDERSCORE}_test"
alias ${AL_PROJECT_NAME_UNDERSCORE}_run="djangoRun $AL_PROJECT_NAME_UNDERSCORE $AL_PROJECT_NAME_UNDERSCORE $AL_LOCAL_PORT"
alias ${AL_PROJECT_NAME_UNDERSCORE}_run_production="djangoProductionRun $AL_PROJECT_NAME_UNDERSCORE $AL_PROJECT_NAME $AL_LOCAL_PORT"
alias ${AL_PROJECT_NAME_UNDERSCORE}_run_generic_deployment="djangoDeploymentOperations $AL_PROJECT_NAME_UNDERSCORE"
alias ${AL_PROJECT_NAME_UNDERSCORE}_start_celery="startCeleryWorkers $AL_CELERY_PROJECT_NAME $AL_CELERY_FLOWER_HOST $AL_CELERY_FLOWER_PORT"
alias ${AL_PROJECT_NAME_UNDERSCORE}_stop_processes="djangoStopProcesses $AL_LOCAL_PORT $AL_CELERY_PROJECT_NAME"
alias ${AL_PROJECT_NAME_UNDERSCORE}_test="djangoTest $AL_PROJECT_NAME_UNDERSCORE"
alias ${AL_PROJECT_NAME_UNDERSCORE}_ve="djangoUseVe \"$AL_VIRTUAL_ENVIRONMENT_FOLDER\" $AL_PROJECT_NAME_UNDERSCORE"
alias ${AL_PROJECT_NAME_UNDERSCORE}_ve_check="checkVirtualPythonEnvironmentFolder \"$AL_VIRTUAL_ENVIRONMENT_FOLDER\" \"$SYSTEM_ROOT_VIRTUAL_PYTHON_ENVIRONMENT_FOLDER\" $AL_VIRTUAL_ENVIRONMENT_NAME"
alias ${AL_PROJECT_NAME_UNDERSCORE}_ve_clear="djangoVeClear \"$SYSTEM_ROOT_VIRTUAL_PYTHON_ENVIRONMENT_FOLDER\" $AL_VIRTUAL_ENVIRONMENT_NAME"
alias ${AL_PROJECT_NAME_UNDERSCORE}_ve_init="pythonVeVersionDecider \"$AL_VIRTUAL_ENVIRONMENT_FOLDER\" \"$SYSTEM_ROOT_VIRTUAL_PYTHON_ENVIRONMENT_FOLDER\" $AL_VIRTUAL_ENVIRONMENT_NAME $AL_PROJECT_NAME \"$AL_PYTHON_VERSION\""
alias ${AL_PROJECT_NAME_UNDERSCORE}_ve_installs="djangoDefaultSetup \"$AL_PROJECT_ROOT_FOLDER\" $AL_INIT_REQUIREMENTS_FILE_NAME $AL_PROJECT_NAME_UNDERSCORE"
alias ${AL_PROJECT_NAME_UNDERSCORE}_installs="${AL_PROJECT_NAME_UNDERSCORE}_ve_init && cd \"$SYSTEM_ROOT_GIT_REPO_FOLDER\" && git clone ${AL_GIT_REPO} && ${AL_PROJECT_NAME_UNDERSCORE}_ve_installs && ${AL_PROJECT_NAME_UNDERSCORE}_dir"
